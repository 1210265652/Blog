JavaScript弱类型语言的本质，决定了变量只是在特定时间内用于保存特定值的一个名字而已。由于不存在定义某个变量必须要保存何种数据类型值的规则，变量的值及其数据类型可以在脚本的生命周期内改变。

变量可能包含两种不同数据类型的值：基本类型值和引用类型值。简单的数据段和那些可能由多个值构成的对象。

## 基本类型和引用类型
### 两种不同数据类型的异同：

 - 访问方式不同：
 
    基本数据类型：undefined、Boolean、null、number和string、symbol（es6新增）。按值访问，可以操作保存在变量中的实际值。引用类型的数据值是保存在内存中的对象。按引用访问，不能直接操作对象的内存空间。
- 定义方式类似，动态设置属性不同

    定义方式都是创建一个变量并为该变量赋值。可以动态操作引用类型的属性和方法，而基本类型不可以。
- 变量值复制方式不同

    基本类型是复制值，引用类型复制引用指针。

- 传递参数方式相同

    ECMAScript中所有函数的参数都是按值传递。都是把函数外部的值复制给函数内部的参数，也就是arguments对象。

### 检测类型

确定一个值是哪种基本类型使用typeof操作符，而确定一个值是哪种引用类型可使用instanceof操作符。

## 执行环境及作用域
每个执行环境都有一个与之关联的变量对象，环境中定义的变量和函数都保存在这个对象中。
- 全局执行环境

全局执行环境是最外围的一个执行环境，根据ECMAScript实现所在的宿主环境不同，表示执行环境的对象也不同。在浏览器中，window对象是全局执行环境，因此所有的全局变量和函数都是作为window对象的属性和方法创建的。某个执行环境中的所有代码执行完毕后，该环境被销毁，保存在其中的变量和函数定义也随之销毁。

- 函数的执行环境

每个函数都有自己的执行环境，当执行流进入一个函数时，函数的环境就会被推入一个环境栈中。而在函数执行之后，栈将其环境推出，把控制权返回之前的执行环境。


> 每次进入一个新的执行环境，都会创建一个用于搜索变量和函数的作用域链。

- 作用域链

当代码在一个执行环境中执行时，会创建变量对象的一个作用域链。其用途是保证对执行环境有权访问的所有变量和函数的有序访问。作用域链的前端，始终是当前执行的代码所在环境的变量对象。作用域链中的下一个变量对象来自包含环境，而下一个变量对象来自下一个包含环境。这样一直延续到全局执行环境，全局执行环境的变量对象始终是作用域链中的最后一个对象。

- 标识符解析

标识符解析是沿着作用域链一级一级地搜索标识符的过程。搜索过程始终从作用域链的前端开始，然后逐级地向后回溯，直至找到标识符为止。

### 延长作用域链

- trycatch语句的catch块，会创建一个新的变量对象，其中包含的是被抛出的错误对象的声明。
- with语句，会将指定的对象添加到作用域链中。

### 没有块级作用域

JavaScript中`{}`封闭的代码块中没有自己的作用域。
1. 声明变量，使用var声明变量会自动被添加到最近的环境中。
2. 查询标识符

## 垃圾收集

JavaScript是一门具有自动垃圾收集机制的语言。离开作用域的值将被自动标记为可以回收，因此将在垃圾收集期间被删除。

“标记清除”是目前主流的垃圾收集算法，其主要思想是给当前不使用的值加上标记，然后再回收其内存。